# éšæ®µ 6ï¸âƒ£: å‘½ä»¤é¢æ¿æ¨¡å¼

## ğŸ¯ ç›®æ¨™

å¯¦ä½œ Cmd+K å¿«é€Ÿåˆ‡æ›å™¨(é€²éšåŠŸèƒ½,å¯é¸):
- å…¨è¢å¹•å‘½ä»¤é¢æ¿ Dialog
- æ¨¡ç³Šæœå°‹
- æœ€è¿‘ä½¿ç”¨è¨˜éŒ„
- å¿«æ·éµæç¤º

**é ä¼°æ™‚é–“**: 4-5 å°æ™‚
**æ³¨æ„**: æ­¤éšæ®µç‚ºé€²éšåŠŸèƒ½,å¯ä¾éœ€æ±‚é¸æ“‡æ€§å¯¦ä½œ

---

## ğŸ“ æ­¥é©Ÿ 1: å»ºç«‹å‘½ä»¤é¢æ¿çµ„ä»¶

```bash
ng generate component shared/workspace-command-palette --standalone
```

### 1.1 çµ„ä»¶ç¨‹å¼ç¢¼

```typescript
// workspace-command-palette.component.ts
import { Component, inject, signal, computed } from '@angular/core';
import { MatDialogModule, MatDialogRef } from '@angular/material/dialog';
import { MatFormFieldModule } from '@angular/material/form-field';
import { MatInputModule } from '@angular/material/input';
import { FormsModule } from '@angular/forms';

import { WorkspaceStore } from '@/application/store';

@Component({
  selector: 'app-workspace-command-palette',
  standalone: true,
  imports: [
    MatDialogModule,
    MatFormFieldModule,
    MatInputModule,
    FormsModule
  ],
  template: `
    <div class="command-palette">
      <!-- æœå°‹æ¡† -->
      <div class="search-container">
        <input
          class="search-input"
          placeholder="æœå°‹å·¥ä½œå€æˆ–è¼¸å…¥æŒ‡ä»¤..."
          [(ngModel)]="searchQuery"
          (ngModelChange)="onSearchChange($event)"
          autofocus>
      </div>
      
      <!-- çµæœåˆ—è¡¨ -->
      <div class="results-container">
        @for (workspace of filteredWorkspaces(); track workspace.id) {
          <button
            class="result-item"
            (click)="selectWorkspace(workspace.id)">
            <div class="workspace-icon">{{ workspace.name.charAt(0) }}</div>
            <div class="workspace-info">
              <div class="name">{{ workspace.name }}</div>
              <div class="meta">{{ workspace.type }}</div>
            </div>
          </button>
        }
      </div>
    </div>
  `,
  styles: [`
    .command-palette {
      width: 600px;
      max-height: 400px;
      display: flex;
      flex-direction: column;
    }
    
    .search-input {
      width: 100%;
      padding: 16px;
      font-size: 16px;
      border: none;
      outline: none;
    }
    
    .results-container {
      overflow-y: auto;
    }
    
    .result-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      width: 100%;
      border: none;
      background: transparent;
      cursor: pointer;
      
      &:hover {
        background: rgba(0, 0, 0, 0.04);
      }
    }
  `]
})
export class WorkspaceCommandPaletteComponent {
  private dialogRef = inject(MatDialogRef<WorkspaceCommandPaletteComponent>);
  private workspaceList = inject(WorkspaceStore);
  
  protected searchQuery = signal('');
  
  protected filteredWorkspaces = computed(() => {
    const query = this.searchQuery().toLowerCase();
    const workspaces = this.workspaceList.workspaces();
    
    if (!query) return workspaces.slice(0, 10);
    
    return workspaces.filter(w =>
      w.name.toLowerCase().includes(query)
    );
  });
  
  onSearchChange(query: string): void {
    this.searchQuery.set(query);
  }
  
  selectWorkspace(workspaceId: string): void {
    this.workspaceList.setCurrentWorkspace(workspaceId);
    this.dialogRef.close();
  }
}
```

---

## ğŸ“ æ­¥é©Ÿ 2: è¨»å†Šå…¨åŸŸå¿«æ·éµ

```typescript
// app.component.ts
import { MatDialog } from '@angular/material/dialog';
import { WorkspaceCommandPaletteComponent } from '@/shared/workspace-command-palette';

export class AppComponent {
  private dialog = inject(MatDialog);
  private keyboardShortcut = inject(KeyboardShortcutService);
  
  ngOnInit(): void {
    // Ctrl+K é–‹å•Ÿå‘½ä»¤é¢æ¿
    this.keyboardShortcut
      .register({ key: 'k', ctrl: true })
      .pipe(takeUntilDestroyed(this.destroyRef))
      .subscribe(() => {
        this.dialog.open(WorkspaceCommandPaletteComponent, {
          width: '600px',
          panelClass: 'command-palette-dialog'
        });
      });
  }
}
```

---

## âœ… é©—è­‰æ¸…å–®

- [ ] Ctrl+K é–‹å•Ÿå‘½ä»¤é¢æ¿
- [ ] æœå°‹å³æ™‚æ›´æ–°çµæœ
- [ ] é¸æ“‡å·¥ä½œå€å¾Œé—œé–‰å°è©±æ¡†
- [ ] ESC å¯é—œé–‰

---

## â­ï¸ ä¸‹ä¸€æ­¥

ç¹¼çºŒ **éšæ®µ 7: éŸ¿æ‡‰å¼è¨­è¨ˆèˆ‡ç„¡éšœç¤™**
